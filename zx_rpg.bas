  30 GO SUB 9000
  50 LET str=10: LET dex=10: LET con=10: LET intel=10: LET hp=10: LET level=1: LET ex=0: LET y=2: LET x=7: LET ox=7: LET oy=2: LET gx=1: LET gy=1
  60 DIM m(20,32)
  70 DIM g(2,1)
  80 LET g(1,1)=9501: LET g(2,1)=9700
 100 GO SUB 7000
 200 GO SUB 8000
 500 GO SUB 1000
1000 REM main loop
1029 IF ox=x AND oy=y THEN GO TO 1090
1030 IF m(oy+1,ox+1)=0 THEN PRINT INK 7;AT oy,ox;" ": GO TO 1090
1031 IF m(oy+1,ox+1)=1 THEN PRINT INK 4;AT oy,ox;CHR$ 144: GO TO 1090
1032 IF m(oy+1,ox+1)=2 THEN PRINT INK 2;AT oy,ox;CHR$ 145: GO TO 1090
1033 IF m(oy+1,ox+1)=3 THEN PRINT INK 1;AT oy,ox;CHR$ 146: GO TO 1090
1034 IF m(oy+1,ox+1)=4 THEN PRINT INK 1;AT oy,ox;CHR$ 147: GO TO 1090
1035 IF m(oy+1,ox+1)=5 THEN PRINT INK 1;AT oy,ox;CHR$ 148: GO TO 1090
1036 IF m(oy+1,ox+1)=6 THEN PRINT INK 0;AT oy,ox;CHR$ 149: GO TO 1090
1037 IF m(oy+1,ox+1)=7 THEN PRINT INK 1;AT oy,ox;CHR$ 150: GO TO 1090
1038 IF m(oy+1,ox+1)=8 THEN PRINT INK 0;AT oy,ox;CHR$ 151: GO TO 1090
1039 IF m(oy+1,ox+1)=9 THEN PRINT INK 0;AT oy,ox;CHR$ 152: GO TO 1090
1040 IF m(oy+1,ox+1)=10 THEN PRINT INK 6;AT oy,ox;CHR$ 153: GO TO 1090
1041 IF m(oy+1,ox+1)=11 THEN PRINT INK 3;AT oy,ox;CHR$ 154: GO TO 1090
1042 IF m(oy+1,ox+1)=12 THEN PRINT INK 0;AT oy,ox;CHR$ 155: GO TO 1090
1043 IF m(oy+1,ox+1)=23 THEN PRINT INK 0;AT oy,ox;CHR$ 146: GO TO 1090
1044 IF m(oy+1,ox+1)=24 THEN PRINT INK 0;AT oy,ox;CHR$ 147: GO TO 1090
1045 IF m(oy+1,ox+1)=25 THEN PRINT INK 0;AT oy,ox;CHR$ 148: GO TO 1090
1046 IF m(oy+1,ox+1)=26 THEN PRINT INK 0;AT oy,ox;CHR$ 149: GO TO 1090
1047 IF m(oy+1,ox+1)=27 THEN PRINT INK 0;AT oy,ox;CHR$ 150: GO TO 1090
1090 PRINT FLASH 1;AT y,x;CHR$ 156
1095 LET ox=x: LET oy=y
1100 IF INKEY$="a" THEN LET x=x-1
1110 IF INKEY$="d" THEN LET x=x+1
1120 IF INKEY$="w" THEN LET y=y-1
1130 IF INKEY$="s" THEN LET y=y+1
1200 IF y=19 THEN LET gy=gy+1: LET y=0: GO SUB 8000
1210 IF y<0 THEN LET gy=gy-1: LET y=18: GO SUB 8000
1300 IF m(y+1,x+1)=2 THEN LET y=oy: LET x=ox
1490 FOR d=0 TO 5: NEXT d
1500 GO TO 1000
7000 REM draw hero attributes
7100 PLOT 0,20: DRAW 255,0
7110 PRINT AT 20,0;"S:";str
7120 PRINT AT 20,5;"D:";dex
7130 PRINT AT 20,10;"C:";dex
7140 PRINT AT 20,15;"I:";intel
7150 PRINT AT 20,20;"HP:";hp
7160 PRINT AT 20,26;"EX:";ex
7170 PLOT 0,7: DRAW 255,0
7200 PRINT AT 21,0;"Attack +3 Sword. Goblin is dead"
7500 RETURN
8000 REM draw map
8005 CLS
8010 LET mc=0: LET mv=0
8020 RESTORE g(gy,gx)
8030 FOR m=0 TO 607
8040 READ v
8050 IF v=0 THEN LET mc=7: LET mv=0: GO TO 8400
8060 IF v=1 THEN LET mc=4: LET mv=144: GO TO 8400
8070 IF v=2 THEN LET mc=2: LET mv=145: GO TO 8400
8080 IF v=3 THEN LET mc=1: LET mv=146: GO TO 8400
8090 IF v=4 THEN LET mc=1: LET mv=147: GO TO 8400
8100 IF v=5 THEN LET mc=1: LET mv=148: GO TO 8400
8110 IF v=6 THEN LET mc=0: LET mv=149: GO TO 8400
8120 IF v=7 THEN LET mc=1: LET mv=150: GO TO 8400
8130 IF v=8 THEN LET mc=0: LET mv=151: GO TO 8400
8140 IF v=9 THEN LET mc=0: LET mv=152: GO TO 8400
8150 IF v=10 THEN LET mc=6: LET mv=153: GO TO 8400
8160 IF v=11 THEN LET mc=3: LET mv=154: GO TO 8400
8170 IF v=12 THEN LET mc=0: LET mv=155: GO TO 8400
8180 IF v=23 THEN LET mc=0: LET mv=146: GO TO 8400
8190 IF v=24 THEN LET mc=0: LET mv=147: GO TO 8400
8200 IF v=25 THEN LET mc=0: LET mv=148: GO TO 8400
8210 IF v=26 THEN LET mc=0: LET mv=149: GO TO 8400
8220 IF v=27 THEN LET mc=0: LET mv=150
8400 LET my=INT (m/32)
8410 LET mx=m-my*32
8415 LET m(my+1,mx+1)=v
8420 PRINT INK mc;AT my,mx;CHR$ mv
8430 NEXT m
8500 RETURN
9000 RESTORE 9001: FOR F=65368 TO 65471: READ A: POKE F,A: NEXT F
9010 DATA 24,60,126,126,60,24,24,24
9020 DATA 0,0,8,28,62,126,255,255
9030 DATA 24,24,24,24,24,24,24,24
9040 DATA 24,24,24,31,31,0,0,0
9050 DATA 0,0,0,255,255,0,0,0
9060 DATA 24,24,24,255,255,24,24,24
9070 DATA 0,0,0,248,248,24,24,24
9080 DATA 24,24,24,189,255,255,255,255
9090 DATA 102,102,0,24,219,195,24,24
9100 DATA 85,170,85,170,85,170,85,170
9110 DATA 0,192,192,126,63,62,20,20
9120 DATA 24,60,126,231,195,231,255,255
9130 DATA 24,24,255,24,24,36,66,129
9140 RETURN
9500 REM maps
9501 REM map 1
9510 DATA 2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2
9520 DATA 2,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,0,0,8,3,2,2,1,1,1,1,1,1,1,1,2,2
9530 DATA 2,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,0,0,23,3,2,2,1,1,1,1,1,1,1,1,2,2
9540 DATA 2,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,23,3,0,2,2,1,1,1,1,1,1,1,2,2
9550 DATA 2,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,23,3,0,0,2,0,0,1,1,1,1,1,2,2
9560 DATA 2,1,1,0,0,0,0,0,0,0,1,1,25,25,25,25,25,25,26,25,25,25,25,25,25,25,25,25,9,1,2,2
9570 DATA 2,1,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,23,3,0,0,0,0,0,0,0,0,1,1,2,2
9580 DATA 2,1,1,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,23,3,0,0,0,0,0,0,0,1,1,1,2,2
9590 DATA 2,1,1,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,23,3,0,0,0,0,0,0,1,1,1,1,2,2
9600 DATA 2,1,0,0,0,0,0,2,2,1,1,1,1,0,0,0,0,0,23,3,0,0,0,0,0,0,0,1,1,1,2,2
9610 DATA 2,1,0,0,0,0,0,2,2,0,1,1,0,0,0,0,0,0,23,4,5,5,7,0,0,0,0,0,1,1,2,2
9620 DATA 2,1,0,0,0,0,0,2,2,2,2,2,1,1,1,1,1,0,24,27,0,0,3,0,0,0,0,0,0,1,2,2
9630 DATA 2,1,0,0,0,0,0,0,2,2,2,2,2,1,1,1,1,1,1,23,0,0,3,0,0,0,0,0,0,0,2,2
9640 DATA 2,1,0,0,0,0,0,0,0,0,9,2,2,2,1,1,1,0,0,23,0,0,3,0,0,0,0,0,0,0,2,2
9650 DATA 2,2,0,0,0,0,0,0,0,0,0,2,2,2,2,1,2,0,0,23,0,0,3,0,0,0,0,0,0,0,2,2
9660 DATA 2,2,2,0,0,0,0,0,0,0,10,10,10,2,2,2,2,0,0,23,0,0,3,0,0,0,0,1,1,0,2,2
9670 DATA 2,2,2,2,2,0,0,0,0,0,10,10,10,10,2,2,1,0,0,23,0,0,3,0,0,0,1,1,1,1,2,2
9680 DATA 2,2,2,2,0,0,0,0,0,10,10,10,10,10,2,2,1,0,0,23,0,0,3,0,0,1,1,1,1,1,2,2
9690 DATA 2,2,0,0,0,0,0,0,10,10,10,10,10,10,2,2,2,2,0,23,0,0,3,0,0,1,2,2,2,2,2,2
9700 REM map 2
9710 DATA 2,2,0,0,0,0,0,0,0,10,10,10,10,10,2,2,2,2,0,23,0,0,3,0,0,1,2,2,2,2,2,2
9720 DATA 2,2,0,0,0,0,0,0,10,10,10,10,10,10,10,10,2,2,0,23,0,0,3,0,1,1,2,2,2,2,2,2
9730 DATA 2,1,1,0,0,0,0,10,10,10,10,10,10,10,10,10,2,2,2,23,0,0,3,1,1,1,1,2,2,1,2,2
9740 DATA 2,1,5,5,5,5,5,5,10,10,10,10,10,10,10,2,2,2,2,23,0,0,3,1,1,1,1,1,1,1,2,2
9750 DATA 2,1,1,0,0,0,10,10,10,10,10,10,10,10,2,2,2,2,2,23,0,0,4,5,5,5,7,1,1,1,2,2
9760 DATA 2,2,1,1,0,10,10,10,10,10,10,10,10,10,2,2,2,2,2,23,0,0,0,0,1,1,3,1,1,1,2,2
9770 DATA 2,2,2,2,2,2,2,10,10,10,10,10,10,10,2,0,2,2,2,23,0,0,0,0,0,1,3,1,1,2,2,2
9780 DATA 2,2,2,11,2,2,2,10,10,10,10,10,10,10,10,2,2,2,2,23,0,0,0,0,1,1,3,1,2,2,2,2
9790 DATA 2,2,2,10,2,2,10,23,10,10,10,10,10,10,10,10,10,10,10,23,0,0,0,0,1,1,3,1,1,2,2,2
9800 DATA 2,2,2,10,2,2,10,23,10,10,10,10,10,10,10,10,10,10,10,23,0,0,0,1,1,1,3,1,1,1,2,2
9810 DATA 2,10,10,10,2,2,25,6,25,25,25,25,25,25,25,25,25,25,25,6,25,25,25,25,25,27,3,1,1,1,1,2
9820 DATA 2,10,2,2,2,2,10,23,10,10,10,10,10,0,0,0,0,0,0,23,0,0,0,1,1,23,3,1,1,1,2,2
9830 DATA 2,10,2,2,2,10,10,23,10,10,10,0,0,0,0,0,0,0,0,23,0,0,0,0,1,23,3,1,1,1,2,2
9840 DATA 2,10,2,2,10,10,10,23,10,0,0,0,0,0,0,2,0,0,0,23,0,0,0,0,1,24,25,25,25,25,9,2
9850 DATA 2,10,2,10,10,10,10,23,10,0,0,0,0,0,2,2,2,0,0,23,0,0,0,1,1,1,3,1,1,1,2,2
9860 DATA 2,10,10,10,2,2,10,23,10,0,0,0,0,2,2,2,2,2,2,23,2,1,1,1,1,1,3,1,1,1,2,2
9870 DATA 2,2,2,2,2,2,2,23,10,10,0,0,2,2,2,2,2,2,2,23,2,2,2,1,1,1,4,5,5,5,7,2
9880 DATA 2,2,2,2,2,2,2,9,10,10,10,2,2,2,2,2,2,2,2,8,2,2,2,2,1,1,1,1,1,1,4,2
9890 DATA 2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2
